---
- name: Determine if Visual Studio Code extension is already present
  command: "ls | grep {{ item }}"
  register: extension_grep
  changed_when: false

- name: Install Visual Studio Code extensions
  command: "{{ code_binary_path }} --install-extension {{ item }}"
  when: not (extension_grep.stdout | length)
