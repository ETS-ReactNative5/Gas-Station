---
- name: "Register MAS installed apps"
  become: false
  command: mas list
  register: mas_list
  changed_when: false

- name: "Ensure {{ app_name }} is installed"
  become: false
  command: "mas install '{{ rdm_mas_id }}'"
  args:
    creates: "{{ rdm_build }}"
  when: (rdm_mas_id | string) not in mas_list.stdout
