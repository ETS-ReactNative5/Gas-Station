---
- name: Ensure CentOS dependencies are met
  block:
  - name: Install epel-release
    dnf:
      name: epel-release
      state: present

  - name: Install RPM Fusion for CentOS
    dnf:
      name: "{{ rpm_fusion_centos }}"
      disable_gpg_check: yes # TODO: Is this necessary? How can we re-enable this security check
      state: present
  when: ansible_facts['distribution'] == 'CentOS'

- name: Install RPM Fusion for Fedora 32
  dnf:
    name: "{{ rpm_fusion_fedora }}"
    disable_gpg_check: yes # TODO: Is this necessary? How can we re-enable this security check
    state: present
  when: ansible_facts['distribution'] == 'Fedora'

- name: Install VLC media player
  dnf:
    name: vlc
    state: present
