---
- name: Install Firefox
  dnf:
    name: firefox
    state: present

- name: Set Firefox as the default browser
  alternatives:
    link: /usr/bin/x-www-browser
    name: x-www-browser
    path: /usr/bin/firefox
    priority: 200
  when: default_browser == 'firefox'