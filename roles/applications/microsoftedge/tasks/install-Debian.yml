---
- name: Add the Microsoft Edge GPG signing key
  apt_key:
    state: present
    url: "{{ edge_keyring_url }}"

- name: Add Microsoft Edge repository
  apt_repository:
    filename: microsoft-edge
    repo: "{{ edge_apt_repository }}"
    state: present
    update_cache: true

- name: Install Microsoft Edge
  apt:
    name: microsoft-edge-dev
    state: present

- name: Set Microsoft Edge as the default browser
  include_role:
    name: helpers/defaultbrowser
  vars:
    default_browser_chosen: "{{ default_browser }}"
  when: default_browser == 'edge'
