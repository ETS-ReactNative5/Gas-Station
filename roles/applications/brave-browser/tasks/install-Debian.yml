---
- name: Add the Brave Browser GPG signing key
  apt_key:
    state: present
    url: "{{ brave_keyring_url }}"

- name: Add Brave Browser repository
  apt_repository:
    filename: brave-browser
    repo: "{{ brave_apt_repository }}"
    state: present
    update_cache: true

- name: Install Brave Browser
  apt:
    name: brave-browser
    state: present

- name: Set Brave Browser as the default browser
  alternatives:
    link: /usr/bin/x-www-browser
    name: x-www-browser
    path: /usr/bin/brave-browser
    priority: 200
  when: default_browser == 'brave'
