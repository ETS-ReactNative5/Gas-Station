---
# Source: https://brave.com/linux/#fedora-28-centosrhel-8
- name: Import Brave Browser signing key
  rpm_key:
    key: "{{ brave_key }}"

- name: Add Brave Browser repository
  yum_repository:
    name: brave-browser
    description: brave browser repository
    baseurl: "{{ brave_baseurl }}"
    gpgcheck: true
    gpgkey: "{{ brave_key }}"

- name: Install Brave Browser
  dnf:
    name: brave-browser
    state: present

- name: Set Brave Browser as the default browser
  alternatives:
    link: /usr/bin/x-www-browser
    name: x-www-browser
    path: /usr/bin/brave-browser
    priority: 200
  when: default_browser == 'brave'