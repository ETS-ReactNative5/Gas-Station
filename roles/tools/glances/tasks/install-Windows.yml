---
- name: "Ensure {{ app_name }}'s dependencies are installed"
  chocolatey.chocolatey.win_chocolatey:
    name: python
    state: present

- name: "Check if {{ app_name }} pip package is outdated"
  ansible.windows.win_command: pip list --outdated
  register: pip_outdated

- name: "Ensure {{ app_name }} is installed"
  ansible.windows.win_command: pip install glances
  when: "'glances' in pip_outdated.stdout"
