---
- name: Verify
  hosts: all
  tasks:

  - name: Get ufw status
    command: ufw status
    register: ufw_status

  - name: Debug results
    debug:
      msg: "{{ ufw_status.stdout }}"

  - name: Verify ufw is active
    assert:
      that: ufw_status.stdout.find('active') != -1
      fail_msg: "UFW Firewall is not active"
      success_msg: "UFW Firewall is not active"
