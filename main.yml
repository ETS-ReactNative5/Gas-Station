---
- hosts: pfsense
  roles:
    - roles/misc/pfsense

- hosts: seconion
  roles:
    - roles/misc/seconion

- hosts: all:!pfsense:!seconion
  gather_facts: false
  roles:
    - roles/system/connect

- hosts: mac
  roles:
    - roles/tools/mas

- hosts: all:!pfsense:!seconion
  roles:
    - roles/languages/php
    - roles/languages/ruby
    - roles/tools/nvm
    - roles/tools/pip
    - roles/tools/vault
    - roles/services/antivirus
    - roles/services/cloudflare
    - roles/services/cockpit
    - roles/services/cups
    - role: roles/services/dnsmasq
      when: install_dnsmasq | default(false)
    - roles/services/duplicacy
    - roles/services/elasticagent
    - roles/services/filebrowser
    - roles/services/netdata
    - roles/services/nginx
    - role: roles/services/portout
      when: install_portout | default(false)
    - roles/services/rclone
    - roles/services/restic
    - roles/services/samba
    - roles/services/wazuh
    - roles/virtualization/docker
    - roles/virtualization/kvm
    - roles/virtualization/gitdocker

- hosts: desktop
  roles:
    - roles/virtualization/dockerslim # Docker Slim: Toolset for generating compact, secure Docker images
    - roles/virtualization/kubernetes # Kubernetes: Tools useful for managing Kubernetes clusters
    - roles/virtualization/parallels # Parallels: Desktop virtualization software for Mac OS X
    - roles/virtualization/vagrant # Vagrant: A tool useful for building and managing virtual environments
    - roles/virtualization/virtualbox # VirtualBox: Cross-platform, open-source desktop virtualization software
    - roles/virtualization/vmware # VMWare: A virtualization platform
    - roles/applications/androidstudio # Android Studio: An IDE used to build Android apps
    - roles/applications/autokey # AutoKey: Application that allows you to create key bindings for programmable commands
    - roles/applications/bravebrowser # Brave Browser: A browser with default settings that help with privacy
    - roles/applications/chrome # Chrome: Google's web browser
    - roles/applications/firefox # Firefox: An open-source web browser
    - roles/applications/flameshot # Flameshot: A screenshot utility for Linux
    - roles/applications/gimp # Gimp: An image editor similar to Photoshop
    - roles/applications/hyper # Hyper: Extensible terminal built on web technologies like JavaScript, HTML, and CSS
    - roles/applications/inkscape # Inkscape: Vector graphics software
    - roles/applications/intellij # IntelliJ Community Edition: An IDE for Java
    - roles/applications/lollypop # Lollypop: A slick music player available on Linux
    - roles/applications/mailspring # Mailspring: An e-mail client available on Windows, macOS, and Linux
    - roles/applications/microsoftedge # Microsoft Edge: Microsoft's latest Chromium-based browser
    - roles/applications/nordvpn # NordVPN: VPN software for Mac OS X and Windows - installer skips on Linux
    - roles/applications/office # LibreOffice/Microsoft Office: Installs Microsoft Office and LibreOffice if Microsoft Office is not available
    - roles/applications/plex # Plex: A home media server that includes the capability of streaming movies/shows remotely
    - roles/applications/postman # Postman: A collaboration platform for API development
    - roles/applications/qbittorrent # qBittorrent: A torrent downloader
    - roles/applications/raspberryimager # Raspberry Imager: Utility that flashes MicroSD cards for use with Raspberry Pis
    - roles/applications/remotedesktop # Remote Desktop: Installs the best remote desktop software based on the operating system
    - roles/applications/shotcut # Shotcut: Cross-platform, open-source video editor
    - roles/applications/shotwell # Shotwell: A photo management tool
    - roles/applications/skype # Skype: VOIP/chat application
    - roles/applications/slack # Slack: Team collaboration software
    - roles/applications/teamviewer # TeamViewer: Software that provides remote access to others
    - roles/applications/visualstudio # Visual Studio: Installs Visual Studio Community Edition on Windows
    - roles/applications/vlc # VLC: Cross-platform multimedia player
    - roles/applications/vscode # Visual Studio Code: A code editor redefined and optimized for building and debugging modern web apps
    - roles/applications/wireshark # Wireshark: Most widely-used network protocol analyzer (packet sniffer)
    - roles/applications/xcode # Xcode: Installs Xcode on Mac OS X
    - roles/tools/autojump # Autojump: Allows user to intelligently change directories to frequently visited directories
    - roles/tools/bandwhich # Bandwhich: CLI utility for displaying network utilization by process
    - roles/tools/beets # Beets: CLI tool used for managing large music libraries
    - roles/tools/composer # Composer: A PHP dependency management tool
    - roles/tools/ffsend # Firefox Send: Allows you to easily and securely share files and directories through the command line
    - roles/tools/fzf # fzf: A command-line fuzzy finder
    - roles/tools/gitextras # Git Extras: Popular collection of tools that are added to git
    - roles/tools/gitlfs # Git LFS: Adds support for Git LFS (Large File System)
    - roles/tools/gitsecret # Git Secret: A bash tool that allows you to store encrypted private data inside a git repository
    - roles/tools/homebrew # Homebrew: A package manager for Mac OS X and Linux
    - roles/tools/httpie # HTTPie: Command line HTTP client
    - roles/tools/jq # JQ: Lightweight and flexible JSON parser
    - roles/tools/juju # Juju: Open source service modelling tool
    - roles/tools/packer # Packer: Tool for creating identical images for multiple platforms from a single configuration
    - roles/tools/peco # Peco: Command line interactive filtering tool
    - roles/tools/powershell # PowerShell: Cross-platform task automation and configuration management framework
    - roles/tools/translate # Translate Shell: Generate translations from the command line
    - roles/tools/yarn # Yarn: Fast, reliable, and secure dependency management tool for Node.js
    - roles/tools/youtubedl # youtube-dl: CLI that can download videos from YouTube and other sites
    - roles/system/extensions # Extensions: Provides the capability of installing GNOME extensions using a configuration
    - roles/system/desktop # Desktop: Applies miscellaneous tweaks to desktop computers

- hosts: all:!pfsense:!seconion
  roles:
    - role: roles/misc/easyengine
      when: install_easyengine | default(false)
    - role: roles/misc/hosthomepage
      when: install_host_homepage | default(false)
    - role: roles/misc/ipa
      when: install_ipa | default(false)
    - role: roles/misc/maas
      when: install_maas | default(false)
    #- role: roles/misc/pihole # Currently relies on external role to set up encrypted DNS
    #  when: install_pihole | default(false)
    - roles/system/finish
