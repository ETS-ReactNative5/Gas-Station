---
- hosts: pfsense
  tasks:
    - name: Update pfSense configuration
      tasks:
        - name: Apply base.yml changes
          include_tasks: tasks/pfsense/base.yml
- hosts: windows-base:windows-full
  tasks:
    - name: Update the operating system
      include_tasks: tasks/update.yml
    - name: Ensure software is installed
      include_tasks: tasks/install.yml
    - name: Clean up shortcuts
      include_tasks: tasks/shortcuts.yml
    - name: Authenticate with services
      include_tasks: tasks/authenticate.yml
    - name: Modify Windows settings
      include_tasks: tasks/windows-settings.yml
    - name: Add/update dotfiles
      include_tasks: tasks/dotfiles.yml
- hosts: ubuntu-base:ubuntu-full
  become: yes
  tasks:
    - name: Ensure Ubuntu software is installed
      include_tasks: tasks/ubuntu/install.yml
- hosts: maas
  become: yes
  tasks:
    - name: Ensure MAAS is installed