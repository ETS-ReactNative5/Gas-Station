# Load Starship
eval "$(starship init bash)"

# Aliases
provision () {
    if [ -z "$1" ]; then
        # Display usage if no parameters are given
        echo "Usage: provision <ansible_inventory_name>"
        echo "If an inventory name of 'test' is provided then the inventory should exist in inventories/test.yml"
        return 1
    else
        ansible-galaxy install -r requirements.yml
        if [ -z "$2" ]; then
            ansible-playbook --ask-vault-pass -i inventories/"$1".yml main.yml
        else
            ansible-playbook --ask-vault-pass -i inventories/"$1".yml "$2".yml
        fi
    fi
}
alias ports='netstat -tulanp'
alias vaultdirectory='find . -type f -printf "%h/\"%f\" " | xargs ansible-vault encrypt'