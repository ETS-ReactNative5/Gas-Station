---
- name: Set desktop background
  shell: "gsettings set org.gnome.desktop.background picture-uri {{ background_image }}"
- name: Set Favorites # gsettings get org.gnome.shell favorite-apps
  shell: gsettings set org.gnome.shell favorite-apps "['org.gnome.Nautilus.desktop', 'firefox.desktop', 'chromium_chromium.desktop', 'wavebox_wavebox.desktop', 'code_code.desktop', 'org.gnome.Terminal.desktop', 'hyper.desktop', 'flameshot.desktop', 'org.gnome.Lollypop.desktop', 'appimagekit_7df4c3d114d897a18dbd09ec7e9b2430-DockStation.desktop', 'virt-manager.desktop', 'vmware-workstation.desktop']"
- name: Set icon size
  shell: gsettings set org.gnome.shell.extensions.dash-to-dock dash-max-icon-size 40
- name: Set Blank Screen Delay to 10 minutes
  shell: gsettings set org.gnome.desktop.session idle-delay 600
- name: Do not report technical problems to vendor
  shell: gsettings set org.gnome.desktop.privacy report-technical-problems false
- name: Remove undesirable .desktop links
  become: yes
  file:
    path: "/usr/share/applications/{{ item }}"
    state: absent
  with_items:
    - gnome-language-selector.desktop
    - im-config.desktop
    - org.gnome.eog.desktop
    - org.gnome.Evince.desktop
    - org.gnome.FileRoller.desktop
    - org.gnome.font-viewer.desktop
    - org.gnome.PowerStats.desktop
    - software-properties-drivers.desktop
    - software-properties-livepatch.desktop
    - vim.desktop
    - yelp.desktop