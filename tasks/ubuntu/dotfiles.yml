---
  - name: Copy .gitconfig
    copy:
      src: files/dotfiles/.gitconfig
      dest: ~/.gitconfig
      owner: "{{ ansible_user }}"
      group: "{{ ansible_user }}"
      mode: '0600'
  - name: Copy .localrc
    copy:
      src: files/dotfiles/.localrc
      dest: ~/.localrc
      owner: "{{ ansible_user }}"
      group: "{{ ansible_user }}"
      mode: '0600'
  - name: Ensure .bashrc exists
    file:
      path: ~/.bashrc
      state: touch
  - name: Source .localrc from .bashrc (if the source call does not already exist)
    lineinfile:
      path: ~/.bashrc
      regex: "^source ~\/.localrc$"
      line: source ~/.localrc
  - name: Copy .netrc
    copy:
      src: files/dotfiles/.netrc
      dest: ~/.netrc
      owner: "{{ ansible_user }}"
      group: "{{ ansible_user }}"
      mode: '0600'
  - name: Copy .npmrc
    copy:
      src: files/dotfiles/.npmrc
      dest: ~/.npmrc
      owner: "{{ ansible_user }}"
      group: "{{ ansible_user }}"
      mode: '0600'
  - name: Copy .zshrc
    copy:
      src: files/dotfiles/.zshrc
      dest: ~/.zshrc
      owner: "{{ ansible_user }}"
      group: "{{ ansible_user }}"
      mode: '0600'
  